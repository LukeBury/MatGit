clear
clc
addpath('../../bin')

% ------------------------------------------------------------------------
%%% P2 Givens
% ------------------------------------------------------------------------
alt = 350; % km
i = 30*pi/180; % rads
p = 9.518E-12; % kg/m^3, atmospheric density
cD = 2.2; % coefficient of drag
sA = 10; % m^2
m = 1000; % kg, satellite mass
r_E = 6378.1363; % km, Earth radius
u_E = 398600.4415; % km^3/s^2, Earth

% ------------------------------------------------------------------------
%%% 2b
% ------------------------------------------------------------------------
fprintf('---------------- 2b ----------------\n')
r = alt + r_E; % km
v = sqrt(u_E/r) % km/s

%%% Acceleration due to drag
ad = .5 * p * v*v * cD * sA * 1000 / m % km/s^2

% ------------------------------------------------------------------------
%%% 2c
% ------------------------------------------------------------------------
fprintf('---------------- 2c ----------------\n')

v1_vec = [0, v, 0]'; % km/s
v2_vec = [0, v*cosd(10), v*sind(10)]'; % km/s

dv1_vec = v2_vec - v1_vec
norm(dv1_vec)

% ------------------------------------------------------------------------
%%% 2d
% ------------------------------------------------------------------------
fprintf('---------------- 2d ----------------\n')
ad_RSW = [0, -ad, 0] % km/s^2
ad_oldRSW = [0, -ad*cosd(10), -ad*sind(10)] % km/s^2

% ------------------------------------------------------------------------
%%% 2e
% ------------------------------------------------------------------------
fprintf('---------------- 2e ----------------\n')

di_max = 2*asin(1.7/(2*v)) * 180/pi




















